"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{4305:function(e,t,r){function a(e){let t=new Audio;return t.crossOrigin="anonymous",t.preload="metadata",t.src=e,t}function n(e){return Math.min(Math.max(e,0),1)}function i(e){return Math.min(Math.max(e,.25),4)}function l(e,t){if(!t.trim())return e;let r=t.toLowerCase();return e.filter(e=>{var t,a;return e.title.toLowerCase().includes(r)||e.artist.toLowerCase().includes(r)||(null===(t=e.metadata.album)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(a=e.tags)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(r)))})}function u(e,t,r){return[...e].sort((e,a)=>{let n,i;switch(t){case"title":n=e.title.toLowerCase(),i=a.title.toLowerCase();break;case"artist":n=e.artist.toLowerCase(),i=a.artist.toLowerCase();break;case"dateAdded":n=new Date(e.dateAdded||0).getTime(),i=new Date(a.dateAdded||0).getTime();break;case"playCount":n=e.playCount||0,i=a.playCount||0;break;case"rating":n=e.rating||0,i=a.rating||0;break;default:return 0}return n<i?"asc"===r?-1:1:n>i?"asc"===r?1:-1:0})}r.d(t,{DG:function(){return a},FL:function(){return n},ef:function(){return i},jI:function(){return l},wg:function(){return u}})},2169:function(e,t,r){function a(e){if(isNaN(e)||!isFinite(e))return"0:00";let t=Math.floor(e/3600),r=Math.floor(e%3600/60),a=Math.floor(e%60);return t>0?"".concat(t,":").concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(r,":").concat(a.toString().padStart(2,"0"))}function n(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}r.d(t,{mr:function(){return a},sS:function(){return n}})},7826:function(e,t,r){r.d(t,{U:function(){return u}});var a=r(4660),n=r(4810),i=r(4305);let l={search:"",tags:[],genre:[],year:{min:1900,max:new Date().getFullYear()},rating:{min:0,max:5},sortBy:"title",sortOrder:"asc"},u=(0,a.Ue)()((0,n.tJ)((e,t)=>({currentTrack:null,isPlaying:!1,isPaused:!1,currentTime:0,duration:0,volume:1,playbackRate:1,repeatMode:"none",shuffleMode:!1,queue:[],currentIndex:0,playlists:[],tracks:[],filterOptions:l,setCurrentTrack:t=>e({currentTrack:t}),togglePlayPause:()=>e(e=>({isPlaying:!e.isPlaying,isPaused:e.isPlaying})),play:()=>e({isPlaying:!0,isPaused:!1}),pause:()=>e({isPlaying:!1,isPaused:!0}),stop:()=>e({isPlaying:!1,isPaused:!1,currentTime:0}),seek:t=>e({currentTime:t}),setVolume:t=>e({volume:Math.min(Math.max(t,0),1)}),setPlaybackRate:t=>e({playbackRate:Math.min(Math.max(t,.25),4)}),setRepeatMode:t=>e({repeatMode:t}),setShuffleMode:t=>e({shuffleMode:t}),nextTrack:()=>{let{queue:r,currentIndex:a,shuffleMode:n,repeatMode:i}=t();if(0===r.length)return;let l=a+1;if(n)l=Math.floor(Math.random()*r.length);else if(l>=r.length){if("all"!==i)return;l=0}e({currentIndex:l,currentTrack:r[l],currentTime:0})},previousTrack:()=>{let{queue:r,currentIndex:a,shuffleMode:n,repeatMode:i}=t();if(0===r.length)return;let l=a-1;if(n)l=Math.floor(Math.random()*r.length);else if(l<0){if("all"!==i)return;l=r.length-1}e({currentIndex:l,currentTrack:r[l],currentTime:0})},addToQueue:t=>e(e=>({queue:[...e.queue,t]})),removeFromQueue:t=>e(e=>{let r=e.queue.filter((e,r)=>r!==t),a=t<e.currentIndex?e.currentIndex-1:e.currentIndex;return{queue:r,currentIndex:a,currentTrack:r[a]||null}}),clearQueue:()=>e({queue:[],currentIndex:0,currentTrack:null,isPlaying:!1,isPaused:!1}),setQueue:t=>e({queue:t,currentIndex:0,currentTrack:t[0]||null}),setCurrentIndex:t=>e(e=>({currentIndex:t,currentTrack:e.queue[t]||null,currentTime:0})),addPlaylist:t=>{let r={...t,id:Math.random().toString(36).substr(2,9)+Date.now().toString(36),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(e=>({playlists:[...e.playlists,r]}))},updatePlaylist:(t,r)=>e(e=>({playlists:e.playlists.map(e=>e.id===t?{...e,...r,updatedAt:new Date().toISOString()}:e)})),deletePlaylist:t=>e(e=>({playlists:e.playlists.filter(e=>e.id!==t)})),addTrackToPlaylist:(t,r)=>e(e=>({playlists:e.playlists.map(e=>e.id===t?{...e,tracks:e.tracks.includes(r)?e.tracks:[...e.tracks,r],updatedAt:new Date().toISOString()}:e)})),removeTrackFromPlaylist:(t,r)=>e(e=>({playlists:e.playlists.map(e=>e.id===t?{...e,tracks:e.tracks.filter(e=>e!==r),updatedAt:new Date().toISOString()}:e)})),setTracks:t=>e({tracks:t}),addTrack:t=>e(e=>({tracks:[...e.tracks,t]})),updateTrack:(t,r)=>e(e=>({tracks:e.tracks.map(e=>e.id===t?{...e,...r}:e)})),deleteTrack:t=>e(e=>{var r;return{tracks:e.tracks.filter(e=>e.id!==t),queue:e.queue.filter(e=>e.id!==t),currentTrack:(null===(r=e.currentTrack)||void 0===r?void 0:r.id)===t?null:e.currentTrack}}),setFilterOptions:t=>e(e=>({filterOptions:{...e.filterOptions,...t}})),resetFilterOptions:()=>e({filterOptions:l}),isCurrentTrack:e=>{let{currentTrack:r}=t();return(null==r?void 0:r.id)===e},getFilteredTracks:()=>{let{tracks:e,filterOptions:r}=t(),a=e;return r.search&&(a=(0,i.jI)(a,r.search)),r.tags.length>0&&(a=a.filter(e=>{var t;return null===(t=e.tags)||void 0===t?void 0:t.some(e=>r.tags.includes(e))})),r.genre.length>0&&(a=a.filter(e=>e.metadata.genre&&r.genre.includes(e.metadata.genre))),(r.year.min>1900||r.year.max<new Date().getFullYear())&&(a=a.filter(e=>{let t=e.metadata.year||new Date().getFullYear();return t>=r.year.min&&t<=r.year.max})),(r.rating.min>0||r.rating.max<5)&&(a=a.filter(e=>{let t=e.rating||0;return t>=r.rating.min&&t<=r.rating.max})),(0,i.wg)(a,r.sortBy,r.sortOrder)},getPlaylistTracks:e=>{let{playlists:r,tracks:a}=t(),n=r.find(t=>t.id===e);return n?a.filter(e=>n.tracks.includes(e.id)):[]}}),{name:"audio-store",partialize:e=>({volume:e.volume,repeatMode:e.repeatMode,shuffleMode:e.shuffleMode,playlists:e.playlists,tracks:e.tracks,filterOptions:e.filterOptions})}))}}]);